import { useState, useEffect } from "react";
import KeyWordScroll from "../../common/KeyWordScroll";
import { styled, keyframes } from "styled-components";

const About = () => {
  const [seeMore, setSeeMore] = useState(false);
  const [slideUp, setSlideUp] = useState(false);

  const animateSlideUp = (height) => keyframes
  from {
    top: 0px;
  }
  to {
    top: -${height}px;
  }
;
  const animateSlide = (height) => keyframes
from {
  top: -${height}px;
}
to {
  top: 0px;
}
;

  const getHeight = () => {
    return document.querySelector(".read-more-hidden").clientHeight;
  };

  const AnimateDiv = slideUp
    ? styled.div
        position: relative;
        width: 100%;
        animation: ${() => animateSlideUp(getHeight())} 1s ease-in;
        background-color: white;
        padding-bottom: 100px;
        z-index: 10;

    : seeMore && !slideUp
    ? styled.div
        position: relative;
        width: 100%;
        animation: ${() => animateSlide(getHeight())} 1s ease-in;

    : styled.div
        position: relative;
        width: 100%;
      ;

  useEffect(() => {
    if (slideUp) {
      setTimeout(() => {
        setSlideUp(false);
      }, 1000);
    }
  }, [slideUp]);

  useEffect(() => {
    let resizeTimer;
    const handleResize = () => {
      const slideElement = document.querySelectorAll(".animated");
      slideElement.forEach((element) => {
        element.classList.add("resize-animation-stopper");
        element.classList.remove("slide");
      });
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        slideElement.forEach((element) => {
          element.classList.remove("resize-animation-stopper");
        });
      }, 1200);
    };
    window.addEventListener("resize", handleResize);
    return () => {
      window.removeEventListener("resize", handleResize);
    };
  }, []);

  let buttonText = seeMore ? "See Less" : "Read more about my experience";

  return (
    <div className="cash-content">
      <div className="mb-20 section-col !pt-0">
        <KeyWordScroll
          slides={[
            ["Full-Stack Developer", "UI/UX Optimization"],
            ["Agile Methods", "Responsive Web Design"],
            ["Web App Development", "Server Side Programming"],
            ["React", "Typescript", "Java", "MySQL", "Node.js"],
          ]}
        />
      </div>
      <div className="flex flex-col section-col">
        <p>
          Hello and welcome! I'm a Junior-Mid Level Software Engineer based in
          Charleston, SC, where I've called home for the past nine years. My
          journey into the tech world began during the Covid pandemic, a time
          that allowed me to explore and dive deeply into a field that had
          always intrigued me. From attending Hack Reactor to my residency there
          and later joining Data Protocol, each step has been pivotal in shaping
          my career.
          <br />
          <br />
          Over the past two years, I've honed my skills in React and TypeScript,
          crafting user-friendly interfaces and ensuring accessibility. I've
          seamlessly blended front-end and back-end technologies to drive
          projects forward while fostering collaboration as a team leader. Now,
          as my journey unfolds, I'm eager to bring my passion and expertise to
          your team, ready to tackle new challenges together.
          <br />
          <br />
          Beyond coding, I enjoy playing basketball, hitting the golf course,
          and exploring Charleston's vibrant coffee scene. Music has always been
          a significant part of my life; my initial career aspirations were
          aligned with the music industry before the pandemic reshaped my path.
          I also have a cat who keeps me company and brings joy to my daily
          routine. Growing up in New Jersey, I've carried with me a love for
          diverse cultures and experiences, which continues to inspire my work
          in tech.
          {seeMore && (
            <>
              <br />
              <br />
            </>
          )}
        </p>
        <div className="relative">
          <div className={seeMore ? "relative block read-more" : "hidden"}>
            {/* <img src="/public/text-bg.png" /> */}
            <p>
              As a versatile problem-solver with a strong command of JavaScript
              and a keen eye for design, I thrive in fast-paced Agile
              environments. My expertise in crafting visually compelling user
              interfaces with React, Remix, and TypeScript, along with
              constructing RESTful APIs and implementing SQL databases and
              dynamic Content Management Systems (CMS), underscores my technical
              proficiency. I also enjoy organization and have experience
              managing tasks with GitHub and Jira, ensuring projects are on
              track and well-coordinated. Additionally, I use Notion for a
              variety of personal and professional tasks, which helps me stay
              organized and productive.
              <br />
              <br />
              During my time at REI Systems, I took a proactive approach to
              identifying and fixing UI-related defects, ensuring that issues
              were resolved promptly using TypeScript. This commitment to
              quality allowed us to meet project deadlines consistently. I was
              responsible for creating and maintaining various feature forms
              throughout the site, utilizing a full-stack approach that included
              React, Java, and MySQL. Working closely with a diverse team, I
              presented technical updates on new features and functionalities.
              Additionally, I enhanced our product's reliability by improving
              unit test coverage to ensure a success rate of at least 90%.
              <br />
              <br />
              At Data Protocol, a small yet dynamic team, I played a key role in
              developing over 50 distinct and responsive web pages using React
              and TypeScript, demonstrating my ability to create visually
              appealing and user-friendly interfaces. I integrated seamless
              animations and interactive elements to enhance the user
              experience. My work involved developing dynamic web applications
              by effectively integrating API endpoints with front-end
              technologies. I also designed user-friendly CMS features using
              Node.js within the Admin interface, making content management more
              efficient. Collaborating with cross-functional teams, I
              implemented feedback to refine UI/UX aspects. I also conducted
              in-depth research on appropriate technologies, ensuring
              scalability and long-term sustainability to minimize future
              technical debt.
              <br />
              <br />
              An engaged collaborator with strong interpersonal skills, I have a
              hunger to learn and a proven ability to discuss optimal solutions
              with other developers, efficiently communicate with various teams,
              and ensure transparency and organization. I am willing to relocate
              for the right opportunity, eager to bring my passion for
              innovative solutions and team-oriented approach to new challenges.
            </p>
            <div className="mask" />
          </div>
        </div>
      </div>
      <div className="relative">
        <AnimateDiv>
          <button
            className="see-more"
            onClick={() => {
              if (seeMore) {
                setSlideUp(true);
                setTimeout(() => {
                  setSeeMore(false);
                }, 1000);
              } else {
                setSeeMore(true);
              }
            }}
          >
            {buttonText}
          </button>
          <div className="flex flex-col gap-2 section-col">
            <div className="flex flex-col gap-0 section-col !p-0">
              <h2 className="my-0">Work Experience</h2>
              <div className="flex flex-col">
                <h3>Software Engineer</h3>
                <p className="italic">REI Systems</p>
                <p>2024</p>
                <h3>Software Engineer</h3>
                <p className="italic">Data Protocol</p>
                <p>2021 - 2023</p>
                <h3>Software Engineering Immersive Resident</h3>
                <p className="italic">Hack Reactor</p>
                <p>2021</p>
              </div>
            </div>
            <div className="flex flex-col section-col !p-0">
              <h2 className="mb-0">Education</h2>
              <h3>Bootcamp Certificate</h3>
              <p>Hack Reactor - 2021</p>
              <h3>Bachelor of Arts</h3>
              <p>College of Charleston - Art's Management - 2015-2019</p>
            </div>
          </div>
        </AnimateDiv>
      </div>
    </div>
  );
};

export default About;